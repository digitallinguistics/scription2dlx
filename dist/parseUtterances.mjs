import"core-js/modules/es.string.split";import"core-js/modules/es.string.trim";import{getSchema}from"./utilities/index.mjs";import parseUtterance from"./parseUtterance/index.mjs";function getUtterancesString(text){return text.split(/\x2D\x2D\x2D/g).map(part=>part.trim()).pop()}export default function parseUtterances(scription){const utterancesString=getUtterancesString(scription);if(!utterancesString)return[];const blankLinesRegExp=/(?:[\t\x0B \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\r?\n){2,}/g;const utterancesStrings=utterancesString.split(blankLinesRegExp);const schema=getSchema(utterancesStrings[0]);const parse=utteranceString=>parseUtterance(utteranceString,schema);return utterancesString.split(blankLinesRegExp).map(parse).filter(Boolean)}